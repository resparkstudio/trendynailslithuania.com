import gsap from 'gsap';

// In your JavaScript file
document.addEventListener('DOMContentLoaded', function () {
	const cursorText = 'Skaityti<br>daugiau';

	const cursor = document.createElement('div');
	cursor.classList.add('custom-cursor');
	cursor.innerHTML = cursorText; // Use innerHTML to enable line break
	document.body.appendChild(cursor);

	gsap.set(cursor, { xPercent: -50, yPercent: -50, autoAlpha: 0, scale: 0 });
	let xTo = gsap.quickTo(cursor, 'x', { duration: 0.15, ease: 'power3' });
	let yTo = gsap.quickTo(cursor, 'y', { duration: 0.15, ease: 'power3' });

	window.addEventListener('pointermove', (e) => {
		xTo(e.clientX);
		yTo(e.clientY);
	});

	const aboutSection = document.querySelector('#about-section');
	if (aboutSection && window.innerWidth >= 1023) {
		aboutSection.addEventListener('mouseenter', () => {
			gsap.to(cursor, { autoAlpha: 1, scale: 1, duration: 0.3, ease: 'power2.out' });
		});

		aboutSection.addEventListener('mouseleave', () => {
			gsap.to(cursor, { autoAlpha: 0, scale: 0, duration: 0.3, ease: 'power2.in' });
		});
	}
});
